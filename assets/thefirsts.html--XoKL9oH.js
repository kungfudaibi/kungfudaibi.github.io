import{_ as n,c as s,o as a,b as e}from"./app-X6lCIy99.js";const p="/assets/1731895574709-DWJ0GZUE.png",t="/assets/1731895666829-D5hm3xGJ.png",l={},i=e('<h1 id="sxu-helper" tabindex="-1"><a class="header-anchor" href="#sxu-helper"><span>SXU helper</span></a></h1><p>welcome to SXU helper</p><figure><img src="'+p+`" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h1 id="关于本项目" tabindex="-1"><a class="header-anchor" href="#关于本项目"><span>关于本项目</span></a></h1><p>github地址：https://github.com/xu-zih/sxujw_helper</p><p>本项目是python 程序设计实验课大作业，使用以下工具和第三方库</p><ul><li>flet</li><li>School_SDK（new-school-sdk)</li><li>pdm + uv + git</li><li>dashscope</li></ul><h1 id="项目搭建环境" tabindex="-1"><a class="header-anchor" href="#项目搭建环境"><span>项目搭建环境</span></a></h1><ul><li>使用git + Github（远程托管）管理代码库</li><li>由pdm + uv（pdm的实验性加速组件）进行包管理</li></ul><h1 id="实现功能" tabindex="-1"><a class="header-anchor" href="#实现功能"><span>实现功能</span></a></h1><ul><li>基础功能：查询当前学期课表、查询上学期成绩</li><li>特色功能：接入了第三方API的学生手册助手</li></ul><h1 id="gui" tabindex="-1"><a class="header-anchor" href="#gui"><span>GUI</span></a></h1><p>全新的跨平台UI框架：Flet（python上Flutter的实现）</p><p>一套代码，多个平台。</p><p>我们使用2种方式构建自定义UI组件</p><ul><li>从现有组件继承，通过添加自定义函数和修改函数实现，实现新功能</li><li>构造build函数，通过build函数从自定义类中构造出一个组件</li></ul><h1 id="课表查询-成绩查询" tabindex="-1"><a class="header-anchor" href="#课表查询-成绩查询"><span>课表查询 + 成绩查询</span></a></h1><h2 id="爬取数据" tabindex="-1"><a class="header-anchor" href="#爬取数据"><span>爬取数据</span></a></h2><p>初始实现：Selenium爬取</p><p>在尝试使用request库重写的同时，我们找到了正方教务系统的第三方API实现 <code>new-school-sdk</code>。</p><p>升级实现：引入new-school-sdk</p><ul><li>基于request库的基础爬取</li><li>使用pytorch工具进行验证码自动识别</li></ul><h2 id="数据存储" tabindex="-1"><a class="header-anchor" href="#数据存储"><span>数据存储</span></a></h2><p>我们对爬取的结果进行了解析。为课程、课程表等元素都构造了相应的对象，内部由List、Dict等结构存储数据。</p><h1 id="学生手册助手-菜单界面" tabindex="-1"><a class="header-anchor" href="#学生手册助手-菜单界面"><span>学生手册助手 + 菜单界面</span></a></h1><h2 id="菜单界面" tabindex="-1"><a class="header-anchor" href="#菜单界面"><span>菜单界面</span></a></h2><ul><li>使用flet 组件，容器包裹侧边弹出式导航栏</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line">  <span class="token comment"># 创建菜单按钮，用于打开导航抽屉</span></span>
<span class="line">        menu_button <span class="token operator">=</span> ft<span class="token punctuation">.</span>IconButton<span class="token punctuation">(</span></span>
<span class="line">            icon<span class="token operator">=</span>ft<span class="token punctuation">.</span>icons<span class="token punctuation">.</span>MENU<span class="token punctuation">,</span></span>
<span class="line">            icon_color<span class="token operator">=</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># 设置图标颜色</span></span>
<span class="line">            on_click<span class="token operator">=</span><span class="token keyword">lambda</span> e<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">setattr</span><span class="token punctuation">(</span>drawer<span class="token punctuation">,</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 打开导航抽屉</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">  row_content <span class="token operator">=</span> ft<span class="token punctuation">.</span>Row<span class="token punctuation">(</span></span>
<span class="line">            controls<span class="token operator">=</span><span class="token punctuation">[</span>menu_button<span class="token punctuation">,</span> github_icon<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            alignment<span class="token operator">=</span>ft<span class="token punctuation">.</span>MainAxisAlignment<span class="token punctuation">.</span>SPACE_BETWEEN<span class="token punctuation">,</span>  <span class="token comment"># 水平分布元素，间隔平均</span></span>
<span class="line">            spacing<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>  <span class="token comment"># 控件间距</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">  menu_container <span class="token operator">=</span> ft<span class="token punctuation">.</span>Container<span class="token punctuation">(</span></span>
<span class="line">            content<span class="token operator">=</span>row_content<span class="token punctuation">,</span></span>
<span class="line">            bgcolor<span class="token operator">=</span>ft<span class="token punctuation">.</span>colors<span class="token punctuation">.</span>ON_SECONDARY_CONTAINER<span class="token punctuation">,</span>  <span class="token comment"># 设置背景颜色</span></span>
<span class="line">            padding<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="line">            alignment<span class="token operator">=</span>ft<span class="token punctuation">.</span>alignment<span class="token punctuation">.</span>center_left<span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment"># width=page.width,  # 使容器宽度与页面一致</span></span>
<span class="line">            border_radius<span class="token operator">=</span>ft<span class="token punctuation">.</span>border_radius<span class="token punctuation">.</span>only<span class="token punctuation">(</span>bottom_left<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> bottom_right<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment"># 设置圆角</span></span>
<span class="line">            height<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">,</span>  <span class="token comment"># 设置容器高度</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment"># 创建主页面视图，并设置drawer</span></span>
<span class="line">        main_view <span class="token operator">=</span> ft<span class="token punctuation">.</span>View<span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            controls<span class="token operator">=</span><span class="token punctuation">[</span></span>
<span class="line">                menu_container<span class="token punctuation">,</span></span>
<span class="line">                ft<span class="token punctuation">.</span>Container<span class="token punctuation">(</span></span>
<span class="line">                    content<span class="token operator">=</span>ft<span class="token punctuation">.</span>Text<span class="token punctuation">(</span><span class="token string">&quot;欢迎使用 SXU helper!已实现功能如下：&quot;</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> weight<span class="token operator">=</span>ft<span class="token punctuation">.</span>FontWeight<span class="token punctuation">.</span>BOLD<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                    padding<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="line">                    alignment<span class="token operator">=</span>ft<span class="token punctuation">.</span>alignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span></span>
<span class="line">                    width<span class="token operator">=</span>page<span class="token punctuation">.</span>width<span class="token punctuation">,</span></span>
<span class="line">                <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                features_row<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            drawer<span class="token operator">=</span>drawer  <span class="token comment"># 在主页面视图中添加导航抽屉</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="学生手册助手" tabindex="-1"><a class="header-anchor" href="#学生手册助手"><span>学生手册助手</span></a></h2><ul><li><p>使用阿里云百炼平台，创建智能体应用，将学生手册电子版作为AI知识库，让AI的回答基于此</p><figure><img src="`+t+`" alt="1731895666829" tabindex="0" loading="lazy"><figcaption>1731895666829</figcaption></figure></li><li><p>使用api调用</p></li></ul><p>详情查看/src/gui/ai.py,本项目的api-key几日后注销</p><h1 id="多端部署" tabindex="-1"><a class="header-anchor" href="#多端部署"><span>多端部署</span></a></h1><p>支持任意系统</p><h2 id="本地" tabindex="-1"><a class="header-anchor" href="#本地"><span>本地</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">git</span> clone https://github.com/xu-zih/sxujw_helper.git</span>
<span class="line"><span class="token builtin class-name">cd</span> sxujw_helper</span>
<span class="line">pdm <span class="token function">install</span></span>
<span class="line">pdm run /wrc/gui.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="web" tabindex="-1"><a class="header-anchor" href="#web"><span>Web</span></a></h2><p><a href="http://8.141.119.119:367/" target="_blank" rel="noopener noreferrer">Flet App</a></p><h2 id="其它-未测试" tabindex="-1"><a class="header-anchor" href="#其它-未测试"><span>其它（未测试）</span></a></h2>`,38),c=[i];function o(u,r){return a(),s("div",null,c)}const h=n(l,[["render",o],["__file","thefirsts.html.vue"]]),k=JSON.parse('{"path":"/blog/thefirsts.html","title":"SXU helper","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"爬取数据","slug":"爬取数据","link":"#爬取数据","children":[]},{"level":2,"title":"数据存储","slug":"数据存储","link":"#数据存储","children":[]},{"level":2,"title":"菜单界面","slug":"菜单界面","link":"#菜单界面","children":[]},{"level":2,"title":"学生手册助手","slug":"学生手册助手","link":"#学生手册助手","children":[]},{"level":2,"title":"本地","slug":"本地","link":"#本地","children":[]},{"level":2,"title":"Web","slug":"web","link":"#web","children":[]},{"level":2,"title":"其它（未测试）","slug":"其它-未测试","link":"#其它-未测试","children":[]}],"git":{"updatedTime":1733383895000,"contributors":[{"name":"kungfudaibi","email":"1534779821@qq.com","commits":1}]},"filePathRelative":"blog/thefirsts.md","excerpt":"\\n<p>welcome to SXU helper</p>\\n<figure><figcaption>image</figcaption></figure>\\n<h1>关于本项目</h1>\\n<p>github地址：https://github.com/xu-zih/sxujw_helper</p>\\n<p>本项目是python 程序设计实验课大作业，使用以下工具和第三方库</p>\\n<ul>\\n<li>flet</li>\\n<li>School_SDK（new-school-sdk)</li>\\n<li>pdm + uv + git</li>\\n<li>dashscope</li>\\n</ul>\\n<h1>项目搭建环境</h1>"}');export{h as comp,k as data};
